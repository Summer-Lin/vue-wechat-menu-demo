webpackJsonp([1],{LbMM:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s,u=n("VU/8")({name:"App"},a,!1,function(t){n("gsu9")},null,null).exports,l=n("/ocq"),c=n("bOdI"),o=n.n(c),p=(s={name:"PublicAccountManagement",props:{},data:function(){return{showRightFlag:!0,menu:{button:[]},isActive:-1,isSubMenuActive:-1,isSubMenuFlag:-1,tempObj:{},tempSelfObj:{},visible2:!1,tableData:[]}},created:function(){},mounted:function(){this.mockMediaFun(),this.mockMenuFun()},filters:{},computed:{},methods:{mockMenuFun:function(){var t=this;this.$http({url:"/api/menu",method:"get"}).then(function(e){console.log(e.data),t.menu.button=e.data.button})},mockMediaFun:function(){var t=this;this.$http({url:"/api/data",method:"get"}).then(function(e){t.tableData=e.data})},handleEdit:function(t,e){this.visible2=!1,this.tempObj.media_id=e.name},saveFun:function(){console.log(this.menu)},menuFun:function(t,e){this.showRightFlag=!1,this.tempObj=e,this.tempSelfObj.grand="1",this.tempSelfObj.index=t,this.isActive=t,this.isSubMenuFlag=t,this.isSubMenuActive=-1},subMenuFun:function(t,e,n,i){this.showRightFlag=!1,this.tempObj=e,this.tempSelfObj.grand="2",this.tempSelfObj.index=n,this.tempSelfObj.secondIndex=i,this.isSubMenuActive=n+""+i,this.isActive=-1},addMenu:function(){2==this.menuKeyLength&&this.$set(this.menu.button,"2",{name:"菜单3",sub_button:[]}),1==this.menuKeyLength&&this.$set(this.menu.button,"1",{name:"菜单2",sub_button:[]})},addSubMenu:function(t){var e=t.sub_button.length;4==e&&this.$set(t.sub_button,"4",{name:"子菜单5"}),3==e&&this.$set(t.sub_button,"3",{name:"子菜单4"}),2==e&&this.$set(t.sub_button,"2",{name:"子菜单3"}),1==e&&this.$set(t.sub_button,"1",{name:"子菜单2"}),0==e&&this.$set(t.sub_button,"0",{name:"子菜单1"})},deleteMenu:function(t){console.log(t);var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteData()}).catch(function(){})},deleteData:function(){"1"==this.tempSelfObj.grand&&this.menu.button.splice(this.tempSelfObj.index,1),"2"==this.tempSelfObj.grand&&this.menu.button[this.tempSelfObj.index].sub_button.splice(this.tempSelfObj.secondIndex,1),this.$message({type:"success",message:"删除成功!"})}}},o()(s,"computed",{menuKeyLength:function(){return this.menu.button.length}}),o()(s,"components",{}),s),m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"public-account-management clearfix"},[n("div",{staticClass:"left"},[n("div",{staticClass:"menu clearfix"},[t._l(t.menu.button,function(e,i){return n("div",{key:i,staticClass:"menu_bottom"},[n("div",{staticClass:"menu_item",class:{active:t.isActive==i},on:{click:function(n){t.menuFun(i,e)}}},[t._v(t._s(e.name))]),t._v(" "),t.isSubMenuFlag==i?n("div",{staticClass:"submenu"},[t._l(e.sub_button,function(a,s){return n("div",{key:s,staticClass:"subtitle"},[n("div",{staticClass:"menu_subItem",class:{active:t.isSubMenuActive==i+""+s},on:{click:function(n){t.subMenuFun(e,a,i,s)}}},[t._v(t._s(a.name))])])}),t._v(" "),e.sub_button.length<5?n("div",{staticClass:"menu_bottom menu_addicon",on:{click:function(n){t.addSubMenu(e)}}},[n("i",{staticClass:"el-icon-plus"})]):t._e()],2):t._e()])}),t._v(" "),t.menuKeyLength<3?n("div",{staticClass:"menu_bottom menu_addicon",on:{click:t.addMenu}},[n("i",{staticClass:"el-icon-plus"})]):t._e()],2),t._v(" "),n("el-button",{staticClass:"save_btn",attrs:{type:"success"},on:{click:t.saveFun}},[t._v("保存并发布至菜单")])],1),t._v(" "),t.showRightFlag?t._e():n("div",{staticClass:"right"},[n("div",{staticClass:"configure_page"},[n("div",{staticClass:"delete_btn"},[n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(e){t.deleteMenu(t.tempObj)}}},[t._v("删除当前菜单")])],1),t._v(" "),n("div",[n("span",[t._v("菜单名称：")]),t._v(" "),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入菜单名称",clearable:""},model:{value:t.tempObj.name,callback:function(e){t.$set(t.tempObj,"name",e)},expression:"tempObj.name"}})],1),t._v(" "),n("div",[n("div",{staticClass:"menu_content"},[n("span",[t._v("菜单内容：")]),t._v(" "),n("el-radio-group",{model:{value:t.tempObj.type,callback:function(e){t.$set(t.tempObj,"type",e)},expression:"tempObj.type"}},[n("el-radio",{attrs:{label:"media_id"}},[t._v("发送素材")]),t._v(" "),n("el-radio",{attrs:{label:"view"}},[t._v("跳转链接")]),t._v(" "),n("el-radio",{attrs:{label:"click"}},[t._v("发送关键词")]),t._v(" "),n("el-radio",{attrs:{label:"miniprogram"}},[t._v("小程序")])],1)],1),t._v(" "),n("div",{staticClass:"configur_content"},["media_id"==t.tempObj.type?n("div",{staticClass:"material"},[n("span",[t._v("素材内容：")]),t._v(" "),n("el-input",{staticClass:"input_width",attrs:{placeholder:"素材名称",disabled:!0},model:{value:t.tempObj.media_id,callback:function(e){t.$set(t.tempObj,"media_id",e)},expression:"tempObj.media_id"}}),t._v(" "),n("el-popover",{attrs:{placement:"left",width:"700"},model:{value:t.visible2,callback:function(e){t.visible2=e},expression:"visible2"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{label:"文件名",width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popover",{attrs:{trigger:"hover",placement:"top"}},[n("p",[t._v("文件名: "+t._s(e.row.name))]),t._v(" "),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.name))])],1)])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){t.handleEdit(e.$index,e.row)}}},[t._v("选择")])]}}])})],1),t._v(" "),n("el-button",{attrs:{slot:"reference",type:"success"},slot:"reference"},[t._v("选择素材")])],1),t._v(" "),n("p",{staticClass:"blue"},[t._v("tips:需要调后台获取到内容，弹框出来，然后选择，把名字赋值上去！")])],1):t._e(),t._v(" "),"view"==t.tempObj.type?n("div",[n("span",[t._v("跳转链接：")]),t._v(" "),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入链接",clearable:""},model:{value:t.tempObj.url,callback:function(e){t.$set(t.tempObj,"url",e)},expression:"tempObj.url"}})],1):t._e(),t._v(" "),"click"==t.tempObj.type?n("div",[n("div",[n("span",[t._v("关键词：")]),t._v(" "),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入关键词",clearable:""},model:{value:t.tempObj.key,callback:function(e){t.$set(t.tempObj,"key",e)},expression:"tempObj.key"}})],1),t._v(" "),n("p",{staticClass:"blue"},[t._v("tips:这里需要配合关键词推送消息一起使用")])]):t._e(),t._v(" "),"miniprogram"==t.tempObj.type?n("div",[n("div",{staticClass:"applet"},[n("span",[t._v("小程序的appid：")]),t._v(" "),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入小程序的appid",clearable:""},model:{value:t.tempObj.appid,callback:function(e){t.$set(t.tempObj,"appid",e)},expression:"tempObj.appid"}})],1),t._v(" "),n("div",[n("span",[t._v("小程序的页面路径：")]),t._v(" "),n("el-input",{staticClass:"input_width",attrs:{placeholder:"请输入小程序的页面路径，如：pages/index",clearable:""},model:{value:t.tempObj.pagepath,callback:function(e){t.$set(t.tempObj,"pagepath",e)},expression:"tempObj.pagepath"}})],1),t._v(" "),n("p",{staticClass:"blue"},[t._v("tips:需要和公众号进行关联才可以把小程序绑定带微信菜单上哟！")])]):t._e()])])]),t._v(" "),n("div",[t._v("menu对象值："+t._s(t.menu))])]),t._v(" "),t.showRightFlag?n("div",{staticClass:"right"},[n("p",[t._v("请选择菜单配置")])]):t._e()])},staticRenderFns:[]};var d=n("VU/8")(p,m,!1,function(t){n("eBtt"),n("LbMM")},"data-v-ac6c25ce",null).exports;i.default.use(l.a);var r=new l.a({routes:[{path:"/",name:"PublicAccountManagement",component:d}]}),b=n("zL8q"),v=n.n(b),_=(n("tvR6"),n("mtWM")),h=n.n(_);n("telf"),i.default.use(v.a),i.default.prototype.$http=h.a,i.default.config.productionTip=!1,new i.default({el:"#app",router:r,components:{App:u},template:"<App/>"})},eBtt:function(t,e){},gsu9:function(t,e){},telf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"tableData",function(){return s}),n.d(e,"menu",function(){return u});var i=n("cLQA"),a=n.n(i),s=a.a.mock("/api/data",[{name:"Vue"},{name:"angular"},{name:"react"}]),u=a.a.mock("/api/menu",{button:[{name:"菜单1",sub_button:[{name:"子菜单1"}]}]})},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c12ffcd9cc47ab7e63aa.js.map